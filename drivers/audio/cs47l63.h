/*
 * Copyright (c) 2025 Titouan Christophe
 * SPDX-License-Identifier: Apache-2.0
 */

#ifndef CS47L63_H
#define CS47L63_H

/* Datasheet: https://statics.cirrus.com/pubs/proDatasheet/CS47L63_DS1249F2.pdf */

/* See datasheet Section 6: Register Map */
#define CS47L63_REG_DEVID		0x0000
#define CS47L63_REG_REVID		0x0004
#define CS47L63_REG_GPIO_STATUS1	0x0C00
#define CS47L63_REG_GPIO1_CTRL1		0x0C08
#define CS47L63_REG_GPIO2_CTRL1		0x0C0C
#define CS47L63_REG_GPIO3_CTRL1		0x0C10
#define CS47L63_REG_GPIO4_CTRL1		0x0C14
#define CS47L63_REG_GPIO5_CTRL1		0x0C18
#define CS47L63_REG_GPIO6_CTRL1		0x0C1C
#define CS47L63_REG_GPIO7_CTRL1		0x0C20
#define CS47L63_REG_GPIO8_CTRL1		0x0C24
#define CS47L63_REG_GPIO9_CTRL1		0x0C28
#define CS47L63_REG_GPIO10_CTRL1	0x0C2C
#define CS47L63_REG_GPIO11_CTRL1	0x0C30
#define CS47L63_REG_GPIO12_CTRL1	0x0C34
#define CS47L63_REG_CLKGEN_PAD_CTRL	0x1030
#define CS47L63_REG_CLOCK32K		0x1400
#define CS47L63_REG_SYSTEM_CLOCK1	0X1404
#define CS47L63_REG_SYSTEM_CLOCK2	0X1408
#define CS47L63_REG_SAMPLE_RATE1	0x1420
#define CS47L63_REG_SAMPLE_RATE2	0x1424
#define CS47L63_REG_SAMPLE_RATE3	0x1428
#define CS47L63_REG_SAMPLE_RATE4	0x142C
#define CS47L63_REG_SAMPLE_RATE_STATUS1	0x1440
#define CS47L63_REG_SAMPLE_RATE_STATUS2	0x1444
#define CS47L63_REG_SAMPLE_RATE_STATUS3	0x1448
#define CS47L63_REG_SAMPLE_RATE_STATUS4	0x144C
#define CS47L63_REG_ASYNC_CLOCK1	0x1460
#define CS47L63_REG_ASYNC_CLOCK2	0x1464
#define CS47L63_REG_FLL1_CONTROL1	0x1C00
#define CS47L63_REG_FLL1_CONTROL2	0x1C04
#define CS47L63_REG_FLL1_CONTROL3	0x1C08
#define CS47L63_REG_FLL1_CONTROL4	0x1C0C

#define CS47L63_REG_OUTPUT_ENABLE_1	0x4804
#define CS47L63_REG_OUTPUT_STATUS_1	0x4808
#define CS47L63_REG_OUTPUT_CONTROL_1	0x480C
#define CS47L63_REG_OUT1L_VOLUME_1	0x4818
#define CS47L63_REG_OUT1L_CONTROL_1	0x4820

#define CS47L63_REG_ASP1_ENABLES1	0x6000
#define CS47L63_REG_ASP1_CONTROL1	0x6004
#define CS47L63_REG_ASP1_CONTROL2	0x6008
#define CS47L63_REG_ASP1_CONTROL3	0x600C
#define CS47L63_REG_ASP1_FRAME_CONTROL1	0x6010
#define CS47L63_REG_ASP1_FRAME_CONTROL2	0x6014
#define CS47L63_REG_ASP1_FRAME_CONTROL5	0x6020
#define CS47L63_REG_ASP1_FRAME_CONTROL6	0x6024
#define CS47L63_REG_ASP1_DATA_CONTROL1	0x6030
#define CS47L63_REG_ASP1_DATA_CONTROL5	0x6040

#define CS47L63_REG_OUT1L_INPUT1	0x8100
#define CS47L63_REG_OUT1L_INPUT2	0x8104
#define CS47L63_REG_OUT1L_INPUT3	0x8108
#define CS47L63_REG_OUT1L_INPUT4	0x810C

/* See datasheet Table 4-9: Digital-Core Mixer Control Registers */
#define MIXER_SRC_NONE			0x000
#define MIXER_SRC_TONE_GENERATOR_1	0x004
#define MIXER_SRC_TONE_GENERATOR_2	0x005
#define MIXER_SRC_NOISE_GENERATOR	0x00C
#define MIXER_SRC_IN1L_SIGNAL_PATH	0x010
#define MIXER_SRC_IN1R_SIGNAL_PATH	0x011
#define MIXER_SRC_IN2L_SIGNAL_PATH	0x012
#define MIXER_SRC_IN2R_SIGNAL_PATH	0x013
#define MIXER_SRC_ASP1_RX1		0x020
#define MIXER_SRC_ASP1_RX2		0x021
#define MIXER_SRC_ASP1_RX3		0x022
#define MIXER_SRC_ASP1_RX4		0x023
#define MIXER_SRC_ASP1_RX5		0x024
#define MIXER_SRC_ASP1_RX6		0x025
#define MIXER_SRC_ASP1_RX7		0x026
#define MIXER_SRC_ASP1_RX8		0x027
#define MIXER_SRC_ASP2_RX1		0x030
#define MIXER_SRC_ASP2_RX2		0x031
#define MIXER_SRC_ASP2_RX3		0x032
#define MIXER_SRC_ASP2_RX4		0x033
#define MIXER_SRC_ASRC1_IN1_LEFT	0x088
#define MIXER_SRC_ASRC1_IN1_RIGHT	0x089
#define MIXER_SRC_ASRC1_IN2_LEFT	0x08A
#define MIXER_SRC_ASRC1_IN2_RIGHT	0x08B
#define MIXER_SRC_LSRC2_IN_LEFT		0x08C
#define MIXER_SRC_LSRC2_IN_RIGHT	0x08D
#define MIXER_SRC_LSRC3_IN_LEFT		0x090
#define MIXER_SRC_LSRC3_IN_RIGHT	0x091
#define MIXER_SRC_ISRC1_INT1		0x098
#define MIXER_SRC_ISRC1_INT2		0x099
#define MIXER_SRC_ISRC1_INT3		0x09A
#define MIXER_SRC_ISRC1_INT4		0x09B
#define MIXER_SRC_ISRC1_DEC1		0x09C
#define MIXER_SRC_ISRC1_DEC2		0x09D
#define MIXER_SRC_ISRC1_DEC3		0x09E
#define MIXER_SRC_ISRC1_DEC4		0x09F
#define MIXER_SRC_ISRC2_INT1		0x0A0
#define MIXER_SRC_ISRC2_INT2		0x0A1
#define MIXER_SRC_ISRC2_DEC1		0x0A4
#define MIXER_SRC_ISRC2_DEC2		0x0A5
#define MIXER_SRC_ISRC3_INT1		0x0A8
#define MIXER_SRC_ISRC3_INT2		0x0A9
#define MIXER_SRC_ISRC3_DEC1		0x0AC
#define MIXER_SRC_ISRC3_DEC2		0x0AD
#define MIXER_SRC_EQ1			0x0B8
#define MIXER_SRC_EQ2			0x0B9
#define MIXER_SRC_EQ3			0x0BA
#define MIXER_SRC_EQ4			0x0BB
#define MIXER_SRC_DRC1_LEFT		0x0C0
#define MIXER_SRC_DRC1_RIGHT		0x0C1
#define MIXER_SRC_DRC2_LEFT		0x0C2
#define MIXER_SRC_DRC2_RIGHT		0x0C3
#define MIXER_SRC_LHPF1			0x0C8
#define MIXER_SRC_LHPF2			0x0C9
#define MIXER_SRC_LHPF3			0x0CA
#define MIXER_SRC_LHPF4			0x0CB
#define MIXER_SRC_DSP1_CHANNEL_1	0x100
#define MIXER_SRC_DSP1_CHANNEL_2	0x101
#define MIXER_SRC_DSP1_CHANNEL_3	0x102
#define MIXER_SRC_DSP1_CHANNEL_4	0x103
#define MIXER_SRC_DSP1_CHANNEL_5	0x104
#define MIXER_SRC_DSP1_CHANNEL_6	0x105
#define MIXER_SRC_DSP1_CHANNEL_7	0x106
#define MIXER_SRC_DSP1_CHANNEL_8	0x107

/* See datasheet Table 4-37: ASP Digital Audio Data Control */
#define ASP_FMT_TDM1			0x00
#define ASP_FMT_TDM0			0x01
#define ASP_FMT_I2S			0x02
#define ASP_FMT_LEFTJUST		0x03
#define ASP_FMT_TDM1_5			0x04

/* See datasheet Table 4-46: SYSCLK Frequency Selection */
#define SAMPLE_RATE_NONE		0x00
#define SAMPLE_RATE_12_kHz		0x01
#define SAMPLE_RATE_24_kHz		0x02
#define SAMPLE_RATE_48_kHz		0x03
#define SAMPLE_RATE_96_kHz		0x04
#define SAMPLE_RATE_192_kHz		0x05
#define SAMPLE_RATE_11_025_kHz		0x09
#define SAMPLE_RATE_22_05_kHz		0x0A
#define SAMPLE_RATE_44_1_kHz		0x0B
#define SAMPLE_RATE_88_2_kHz		0x0C
#define SAMPLE_RATE_176_4_kHz		0x0D
#define SAMPLE_RATE_8_kHz		0x11
#define SAMPLE_RATE_16_kHz		0x12
#define SAMPLE_RATE_32_kHz		0x13

/* See datasheet Table 4-48: Clocking Control */
#define SYSCLK_SRC_MCLK1		0x00
#define SYSCLK_SRC_MCLK2		0x01
#define SYSCLK_SRC_FLL1x2		0x04
#define SYSCLK_SRC_FLL2x2		0x05
#define SYSCLK_SRC_ASP1_BCLK		0x08
#define SYSCLK_SRC_ASP2_BCLK		0x09
#define SYSCLK_SRC_FLL1			0x0C
#define SYSCLK_SRC_FLL2			0x0D

/* See datasheet Table 4-69: Device ID */
#define CS47L63_DEVID			0x47A63

#endif
